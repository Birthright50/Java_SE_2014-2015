import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * Created by Birthright on 17.09.2015.
 */
public class Task01b {
    public static void main(String[] args) {
        Pattern pattern = Pattern.compile("(06\\.03\\.1237 ((1[2-9]:[0-5][0-9])|(2[0-3]:[0-5][0-9])))|" +
                "((0[7-9]|[12][0-9]|3[01])\\.03\\.1237 ([01][0-9]:[0-5][0-9]|2[0-3]:[0-5][0-9]))|" +
                "((0[1-9]|[12][0-9]|3[01])\\.(0[4-9]|1[0-2])\\.1237 )([01][0-9]:[0-5][0-9]|2[0-3]:[0-5][0-9])|" +
                "((0[1-9]|[12][0-9]|3[01])\\.(0[1-9]|1[0-2])\\.(123[89]|12[4-9][0-9]|1[3-8][0-9]{2}|19[0-6][0-9]|197[0-7]) ([01][0-9]:[0-5][0-9]|2[0-3]:[0-5][0-9]))|" +
                "((0[1-9]|[1-2][0-9]|3[01])\\.01\\.1978 ([01][0-9]:[0-5][0-9]|2[0-3]:[0-5][0-9]))|" +
                "((0[1-9]|1[0-9]|2[0-6])\\.02\\.1978 ([01][0-9]:[0-5][0-9]|2[0-3]:[0-5][0-9]))|" +
                "(27\\.02\\.1978 (((0[1-9]|1[0-9]):[0-5][0-9])|((20:[0-5][0-9])|(21:([0-2][0-9]|3[0-5])))))");
        Matcher matcher = pattern.matcher("27.02.1978 21:35");
        System.out.println(matcher.matches());
    }
}
